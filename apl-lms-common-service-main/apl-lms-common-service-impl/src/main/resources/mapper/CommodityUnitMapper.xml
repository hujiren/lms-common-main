<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.apl.lms.common.mapper.CommodityUnitMapper">



    <!-- 查找详情 2019-12-19-->
    <select id="getById" resultType="com.apl.lms.common.vo.CommodityUnitVo">
        SELECT
          id,
          unit_code,
          unit_name, 
          inner_org_id
        FROM
          commodity_unit
        where
          id = #{id}
    </select>

    <!-- 查找列表 2019-12-19-->
    <select id="getList" resultType="com.apl.lms.common.vo.CommodityUnitVo">
        SELECT
           id, 
           unit_code, 
           unit_name
        FROM
           commodity_unit
        where
        1 = 1
        order by id desc
    </select>

    <!-- 检查记录是否重复 -->
    <select id="exists" resultType="com.apl.lms.common.vo.CommodityUnitVo">
        SELECT
           id,
           unit_code, 
           unit_name
        FROM
           commodity_unit
        WHERE
           (unit_code = #{unitCode} OR unit_name = #{unitName})
        <if test="id != null and id>0">
            AND id !=  #{id}
        </if>
    </select>

</mapper>
